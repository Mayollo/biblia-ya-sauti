/* =========================================
   GLOBAL VARIABLES
========================================= */
:root{
  --bg:#515151;
  --accent:#471B1B;
  --muted:#D5D5D5;
  --panel:#ffffff;
  --dark:#3f3f3f;

  --text-color:#000;
  --bg-color:#fff;
  --book-color:#000;
  --chapter-number-color:#471B1B;
  --verse-text-color:#000;

  --radius:22px;
}

/* =========================================
   BASE / APP CONTAINER
========================================= */
html,body{height:100%}

body{
  margin:0;
  font-family:"Poppins", Arial, sans-serif;
  background:#f2f2f2;
  color:var(--text-color);
}

.app{
  max-width:420px;
  min-height:100vh;
  margin:0 auto;
  background:var(--bg-color);
  box-shadow:0 0 20px rgba(0,0,0,.15);
  display:flex;
  flex-direction:column;
  overflow-x:hidden;
}

/* =========================================
   TOP BAR
========================================= */
.top-bar{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px 16px;
  background:var(--bg);
  color:#fff;
  position:sticky;
  top:0;
  z-index:10;
}

.home-btn img{width:26px;height:26px}
.settings-btn{color:#fff;font-size:20px;text-decoration:none}

/* =========================================
   HOME – TESTAMENT & BOOK LIST
========================================= */
.testament-row{
  display:flex;
  justify-content:center;
  align-items:center;
  gap:14px;
  padding:10px;
  background:var(--bg);
}

.big-arrow{
  background:none;
  border:none;
  font-size:28px;
  color:#fff;
  cursor:pointer;
}

.testament-title{
  background:var(--accent);
  color:#fff;
  padding:10px 22px;
  border-radius:8px;
  font-weight:700;
  letter-spacing:2px;
}

.book-list{
  flex:1;
  padding:18px;
  overflow:auto;
  background:var(--panel);
}

.book{
  background:var(--dark);
  color:var(--muted);
  padding:12px;
  border-radius:10px;
  margin-bottom:12px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  cursor:pointer;
}

.book.active{
  background:var(--accent);
  color:#fff;
}

.book-name{
  font-size:18px;
  letter-spacing:1px;
}

/* =========================================
   CHAPTER GRID
========================================= */
.chapter-box{
  display:none;
  background:var(--accent);
  padding:12px;
  border-radius:14px;
  margin:8px 0;
}

.chapter-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(44px,1fr));
  gap:8px;
}

.chapter-grid button{
  background:#fff;
  color:var(--accent);
  border:2px solid var(--accent);
  width:44px;
  height:44px;
  border-radius:50%;
  font-weight:700;
  cursor:pointer;
}

.chapter-grid button:hover{
  background:var(--accent);
  color:#fff;
}

/* =========================================
   CHAPTER PAGE
========================================= */
.chapter-nav{
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:14px 16px;
}

.chapter-title{
  font-size:20px;
  font-weight:600;
}

.verses-container{
  flex:1;
  padding:12px 16px 160px;
  overflow:auto;
}

.verse{
  display:flex;
  gap:10px;
  padding:10px 6px;
  border-bottom:1px solid #eee;
  align-items:flex-start;
  position:relative;
}

.verse .num{
  min-width:32px;
  font-weight:700;
  color:var(--chapter-number-color);
}

.verse .text{
  flex:1;
  line-height:1.6;
  color:var(--verse-text-color);
}

.verse.playing{
  background:#E5A073;
  border-radius:6px;
}

/* Pen icon */
.pen-btn{
  width:18px;
  height:18px;
  cursor:pointer;
  opacity:.7;
}
.pen-btn:hover{opacity:1}

/* =========================================
   BOOKMARK COLORS & EFFECTS
========================================= */
.bm-yellow{background:#FFF3B0}
.bm-red{background:#FFD6D6}
.bm-blue{background:#D6E8FF}
.bm-cyan{background:#D6FFF7}

.bm-underline .text{text-decoration:underline}

.bm-font-small .text{font-size:14px}
.bm-font-normal .text{font-size:16px}
.bm-font-large .text{font-size:20px}

/* =========================================
   BOOKMARK OVERLAY
========================================= */
.bookmark-overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.4);
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:999;
}

.bookmark-box{
  background:#fff;
  padding:16px;
  border-radius:16px;
  width:90%;
  max-width:380px;
}

.bm-colors{
  display:flex;
  justify-content:space-around;
  margin:14px 0;
}

.bm-colors .color{
  width:26px;
  height:26px;
  border-radius:50%;
  cursor:pointer;
}

.bm-actions{
  display:flex;
  gap:10px;
}

/* =========================================
   NOTES PAGE
========================================= */
.notes-container{
  padding:16px;
  flex:1;
  overflow:auto;
}

.notes-book h3{
  margin-top:24px;
  border-bottom:1px solid #ddd;
  padding-bottom:4px;
}

.note-card{
  background:#fff;
  border-radius:14px;
  padding:12px;
  margin:12px 0;
  box-shadow:0 2px 6px rgba(0,0,0,.08);
}

.note-ref{
  font-weight:600;
  margin-bottom:6px;
}

.note-verse{
  font-size:14px;
  margin-bottom:4px;
}

.note-actions{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin:8px 0;
}

.note-actions button{
  border:none;
  background:#eee;
  padding:6px 10px;
  border-radius:8px;
  cursor:pointer;
}

.note-text{
  width:100%;
  border-radius:8px;
  padding:8px;
  border:1px solid #ccc;
}

.danger{background:#ffdddd}

/* =========================================
   AUDIO PLAYER (STICKY)
========================================= */
.player{
  position:fixed;
  bottom:0;
  left:0;
  right:0;
  max-width:420px;
  margin:0 auto;
  background:#2e2e2e;
  color:#fff;
  padding:12px;
  z-index:10;
}

.seek-bar{
  height:6px;
  background:#ddd;
  border-radius:8px;
  overflow:hidden;
  margin:6px auto;
  width:90%;
}

.progress-fill{
  height:100%;
  width:0%;
  background:var(--accent);
}

.controls{
  display:flex;
  justify-content:center;
  gap:18px;
}

/* =========================================
   UTIL
========================================= */
.hidden{display:none}

@media(max-width:420px){
  body{background:#fff}
  .app{box-shadow:none}
}

/* =========================================
   BOOKMARK COLOR CIRCLES (FIX)
========================================= */

.bm-colors .c1{ background:#4dd0e1; }   /* Cyan */
.bm-colors .c2{ background:#fff176; }   /* Yellow */
.bm-colors .c3{ background:#ff8a80; }   /* Red */
.bm-colors .c4{
  background:#eee;
  color:#333;
  font-weight:700;
  display:flex;
  align-items:center;
  justify-content:center;
}


******

/* ===============================
   NOTE META POLISH
================================ */

.note-meta{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
  margin:6px 0 10px;
}

/* badge ya tarehe */
.note-badge{
  background:#2e2e2e;        /* sawa na audio player */
  color:#fff;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
}

/* badge ya context */
.note-context{
  background:#471B1B;
  color:#fff;
  padding:4px 10px;
  border-radius:999px;
  font-size:12px;
  font-weight:600;
}

/* tofauti za context */
.note-context.personal{ background:#471B1B; }
.note-context.sermon{ background:#1E88E5; }
.note-context.study{ background:#2E7D32; }

/* hover kidogo */
.note-context,
.note-badge{
  box-shadow:0 2px 6px rgba(0,0,0,.15);
}

**************

.notes-search{
  padding:10px 16px;
}
.notes-search input{
  width:100%;
  padding:10px 14px;
  border-radius:12px;
  border:1px solid #ddd;
  font-size:15px;
}

/*NOTES LINKING*/
/* ===============================
   NOTE LINKS
================================ */
.note-links{
  margin:8px 0;
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}
.note-link{
  background:#f2f2f2;
  padding:4px 8px;
  border-radius:8px;
  font-size:13px;
  cursor:pointer;
}
.note-link:hover{
  background:#471B1B;
  color:#fff;
}
.add-link{
  background:#eee;
  padding:6px 10px;
  border-radius:8px;
  font-size:13px;
  cursor:pointer;
  margin-bottom:6px;
}

.note-meta{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin:8px 0;
}

.note-meta small{
  background:#2e2e2e;   /* kama player */
  color:#fff;
  padding:6px 10px;
  border-radius:10px;
  font-size:12px;
  font-weight:600;
}


.export-select{
  appearance:none;
  background:#eee;
  border:none;
  padding:8px 12px;
  border-radius:8px;
  font-weight:600;
  cursor:pointer;
}
.export-select:focus{ outline:none; }


button {
  border:none;
  padding:8px 12px;
  border-radius:10px;
  background:#bbbbbb;
  color:#000;
  font-weight:600;
  cursor:pointer;
}

button.danger {
  background:#ff5c5c;
  color:#fff;
}

button + button {
  margin-left:6px;
}

.note-actions {
  margin-top:10px;
}
.top-bar{
  display: flex;
  align-items: center;
  gap: 10px;
}

/* hiii inasukuma Notes kulia */
.top-spacer{
  flex: 1;
}

.notes-btn{
  background: #6DB6E7;
  border: none;
  padding: 6px 12px;
  border-radius: 8px;
  font-weight: 600;
  cursor: pointer;
}


.note-date{
  font-size: 0.8em;
  opacity: 0.8;
  margin-top: 4px;
}

/* highlight bookmark mpya (≤ 24h) */
.note-card.recent{
  border-left: 4px solid #6DB6E7;
  background: linear-gradient(
    90deg,
    rgba(109,182,231,0.15),
    transparent
  );
}


.modal{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.6);
  display:flex;
  justify-content:center;
  align-items:center;
}
.modal-box{
  background:#1e1e1e;
  padding:20px;
  border-radius:12px;
  width:90%;
  max-width:320px;
}
.link-item{
  background:#6DB6E7;
  padding:3px 6px;
  border-radius:6px;
  margin-right:4px;
  font-size:0.8em;
}
.hidden{display:none;}


.modal-box.large{
  max-width:420px;
}

.book-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(90px,1fr));
  gap:8px;
  margin:12px 0;
}

.book-grid div{
  background:#262626;
  padding:8px;
  text-align:center;
  border-radius:10px;
  cursor:pointer;
  font-size:0.9em;
}

.book-grid div:hover{
  background:#6DB6E7;
  color:#000;
}

.chip-grid{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
  margin:10px 0;
}

.chip-grid span{
  padding:6px 10px;
  border-radius:20px;
  background:#333;
  cursor:pointer;
  font-size:0.8em;
}

.chip-grid span:hover{
  background:#6DB6E7;
  color:#000;
}

.link-item{
  background:#6DB6E7;
  color:#000;
  padding:4px 8px;
  border-radius:12px;
  margin-right:4px;
  cursor:pointer;
  font-size:0.8em;
}


/* ===============================
   BOOK LINK MODAL – POLISHED UI
================================ */

/* modal background */
.modal{
  background: rgba(0,0,0,0.6);
}

/* modal box */
.modal-box.large{
  max-width: 320px;     /* ilikuwa ~420px */
  background: #ffffff; /* white background */
  color: #ffffff;      /* text default white */
}

/* headings inside modal */
.modal-box h3,
.modal-box h4{
  color: #ffffff;
}

/* ===============================
   BOOK GRID (SMALLER)
================================ */
.book-grid{
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(70px, 1fr)); /* smaller */
  gap: 6px;
  margin: 10px 0;
}

.book-grid div{
  background: #2b2b2b;  /* dark tile */
  color: #ffffff;      /* white text */
  padding: 6px 4px;    /* smaller padding */
  text-align: center;
  border-radius: 8px;
  cursor: pointer;
  font-size: 0.75em;   /* smaller text */
}

.book-grid div:hover{
  background: #6DB6E7;
  color: #000000;
}

/* ===============================
   CHAPTER & VERSE CHIPS (SMALLER)
================================ */
.chip-grid{
  display: flex;
  flex-wrap: wrap;
  gap: 5px;
  margin: 8px 0;
}

.chip-grid span{
  padding: 4px 8px;    /* smaller chips */
  border-radius: 14px;
  background: #2b2b2b;
  color: #ffffff;
  cursor: pointer;
  font-size: 0.75em;
}

.chip-grid span:hover{
  background: #6DB6E7;
  color: #000000;
}

/* ===============================
   LINK ITEM (CLICKABLE)
================================ */
.link-item{
  background: #6DB6E7;
  color: #000000;
  padding: 4px 8px;
  border-radius: 12px;
  margin-right: 4px;
  margin-top: 4px;
  display: inline-block;
  cursor: pointer;
  font-size: 0.75em;
}

/* ===============================
   KEEP BUTTONS AS THEY ARE
================================ */
.modal-actions button,
.note-actions button,
.continue-btn{
  /* hakuna mabadiliko */
}


.note-date{
  display: inline-block;
  margin-top: 4px;
  padding: 2px 6px;
  font-size: 0.75em;
  border-radius: 6px;
  background: rgba(109,182,231,0.2); /* light blue */
  color: #6DB6E7;
}


.video-input{
  margin-top: 8px;
  display: flex;
  gap: 6px;
}

.video-url{
  flex: 1;
  padding: 6px;
}

.video-list iframe{
  margin-top: 10px;
  border-radius: 8px;
}

.hidden{
  display: none;
}


.video-card{
  margin-top: 12px;
}

.video-card iframe{
  width: 100%;
  border-radius: 8px;
}

.video-note{
  width: 100%;
  margin-top: 6px;
  min-height: 60px;
}


.video-card{
  margin-top: 12px;
}

.video-card iframe{
  width: 100%;
  border-radius: 8px;
}

.video-card button{
  margin-top: 6px;
}

.video-note{
  width: 100%;
  margin-top: 6px;
  min-height: 60px;
}


.general-notes{
  width: 100%;
  margin: 8px 0;
  min-height: 70px;
}

.video-card{
  margin-top: 12px;
}

.video-note{
  width: 100%;
  margin-top: 6px;
  min-height: 60px;
}


.video-actions{
  display: flex;
  gap: 8px;
  margin-top: 6px;
}

.video-actions button{
  font-size: 0.75em;
}

.video-extra-actions{
  display: flex;
  gap: 8px;
  margin-top: 6px;
  align-items: center;
}

.export-wrap{
  position: relative;
}

.export-menu{
  position: absolute;
  top: 100%;
  right: 0;
  background: #fff;
  border: 1px solid #ccc;
  border-radius: 6px;
  overflow: hidden;
  z-index: 10;
}

.export-menu button{
  display: block;
  width: 100%;
  padding: 6px 10px;
  background: none;
  border: none;
  text-align: left;
  cursor: pointer;
}

.export-menu button:hover{
  background: #6DB6E7;
  color: #000;
}
